{"mappings":"AAAA,MAAM,SAAS;AAEf,MAAM,eAAe,SAAS,cAAc,CAAC;AAC7C,MAAM,cAAc,SAAS,aAAa,CAAC;AAC3C,MAAM,YAAY,SAAS,cAAc,CAAC;AAC1C,MAAM,aAAa,SAAS,cAAc,CAAC;AAC3C,MAAM,iBAAiB,SAAS,cAAc,CAAC;AAE/C,aAAa,gBAAgB,CAAC,SAAS,iBAAiB;IACpD;IACA,MAAM,aAAa,YAAY,KAAK,CAAC,IAAI;IACzC,MAAM,OAAO,UAAU,KAAK;IAC5B,MAAM,QAAQ,SAAS,WAAW,KAAK;IACvC,IAAI,eAAe,IAAI;QACrB;QACA,MAAM,MAAM,CAAC,8CAA8C,EAAE,OAAO,kCAAkC,EAAE,WAAW,uCAAuC,EAAE,MAAM,OAAO,CAAC;QAE1K,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAC7B,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,KAAK,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA,QAAS;oBACjC,IAAI;oBACJ,IAAG,SAAS,KACV,SAAS,CAAC,8BAA8B,EAAE,MAAM,MAAM,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,MAAM,MAAM,CAAC,MAAM,CAAC;yBACrF,IAAG,SAAS,KACjB,SAAS,CAAC,8BAA8B,EAAE,MAAM,MAAM,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,MAAM,MAAM,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC;yBAC3F,IAAG,SAAS,KACjB,SAAS,CAAC,8BAA8B,EAAE,MAAM,MAAM,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,CAAC,EAAE,MAAM,MAAM,CAAC,CAAC,EAAE,KAAK,IAAI,CAAC;oBAElG,WAAW;gBACb;YACF,OACE,MAAM,IAAI,MAAM,4BAAyB;QAE7C,EAAE,OAAO,OAAO;YACd,UAAU,MAAM,OAAO;QACzB;IACF,OACE,UAAU;AAEd;AAEA,SAAS,cAAc;IACrB,MAAM,SAAS,SAAS,gBAAgB,CAAC;IACzC,OAAO,OAAO,CAAC,CAAA,QAAS,MAAM,MAAM;AACtC;AAEF,SAAS,UAAU,OAAO,EAAE;IAC1B,MAAM,QAAQ,SAAS,aAAa,CAAC;IACrC,MAAM,SAAS,GAAG;IAClB,MAAM,SAAS,CAAC,GAAG,CAAC;IACpB,MAAM,WAAW,GAAG;IACpB,eAAe,WAAW,CAAC;AAC7B;AAEA,SAAS,WAAW,GAAG,EAAE;IACvB,MAAM,MAAM,SAAS,aAAa,CAAC;IACnC,IAAI,GAAG,GAAG;IACV,IAAI,gBAAgB,CAAC,SAAS,WAAW;QACvC,UAAU,CAAC,yBAAyB,EAAE,IAAI,CAAC;IAC7C;IACA,eAAe,WAAW,CAAC;AAC7B;AAEA,SAAS,cAAc;IACrB,MAAM,SAAS,SAAS,gBAAgB,CAAC;IAEzC,KAAK,MAAM,OAAO,OAChB,IAAI,MAAM;AAEd;AAEA,MAAM,cAAc,SAAS,gBAAgB,CAAC;AAE9C,YAAY,OAAO,CAAC,CAAA,SAAU;IAC5B,OAAO,gBAAgB,CAAC,SAAS,WAAW;QAC1C;QACA,MAAM,gBAAgB,SAAS,aAAa,CAAC,8BAA8B,KAAK;QAChF,YAAY,OAAO,CAAC,CAAA,SAAU;YAC5B,OAAO,eAAe,CAAC;QACzB;QACA,OAAO,YAAY,CAAC,YAAY;IAClC;AACF","sources":["src/script.js"],"sourcesContent":["const apiKey = '26c72b1be7839b165f1d4370d6a5dd35';\r\n\r\nconst searchButton = document.getElementById('get-images');\r\nconst searchInput = document.querySelector('input[name=\"search-text\"]');\r\nconst imageSize = document.getElementById('image-size');\r\nconst imageCount = document.getElementById('image-count');\r\nconst imageContainer = document.getElementById('image-container');\r\n\r\nsearchButton.addEventListener('click', async function() {\r\n    clearErrors();\r\n    const searchText = searchInput.value.trim();\r\n    const size = imageSize.value;\r\n    const count = parseInt(imageCount.value);\r\n    if (searchText !== '') {\r\n      clearImages();\r\n      const url = `https://www.flickr.com/services/rest/?api_key=${apiKey}&method=flickr.photos.search&text=${searchText}&format=json&nojsoncallback=1&per_page=${count}&page=1`;\r\n  \r\n      try {\r\n        const response = await fetch(url);\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          data.photos.photo.forEach(photo => {\r\n            let imgUrl;\r\n            if(size === \"l\"){\r\n              imgUrl = `https://live.staticflickr.com/${photo.server}/${photo.id}_${photo.secret}_b.jpg`;\r\n            } else if(size === \"m\"){\r\n              imgUrl = `https://live.staticflickr.com/${photo.server}/${photo.id}_${photo.secret}_${size}.jpg`;\r\n            } else if(size === \"s\"){\r\n              imgUrl = `https://live.staticflickr.com/${photo.server}/${photo.id}_${photo.secret}_${size}.jpg`;\r\n            }\r\n            displayImg(imgUrl);\r\n          });\r\n        } else {\r\n          throw new Error('Oops, något gick fel!');\r\n        }\r\n      } catch (error) {\r\n        showError(error.message);\r\n      }\r\n    } else {\r\n      showError('Var god ange ett sökord');\r\n    }\r\n  });\r\n  \r\n  function clearErrors() {\r\n    const errors = document.querySelectorAll('.error');\r\n    errors.forEach(error => error.remove());\r\n  }\r\n\r\nfunction showError(message) {\r\n  const error = document.createElement('p');\r\n  error.innerText = 'Bilden som angivet kunde inte hittas, var god försök igen'\r\n  error.classList.add('error');\r\n  error.textContent = message;\r\n  imageContainer.appendChild(error);\r\n}\r\n\r\nfunction displayImg(url) {\r\n  const img = document.createElement('img');\r\n  img.src = url;\r\n  img.addEventListener('error', function() {\r\n    showError(`Fel vid hämtning av bild ${url}`);\r\n  });\r\n  imageContainer.appendChild(img);\r\n}\r\n\r\nfunction clearImages() {\r\n  const images = document.querySelectorAll('img');\r\n\r\n  for (const img of images) {\r\n    img.remove();\r\n  }\r\n}\r\n\r\nconst sizeOptions = document.querySelectorAll('#image-size option');\r\n\r\nsizeOptions.forEach(option => {\r\n  option.addEventListener('click', function() {\r\n    clearImages();\r\n    const currentOption = document.querySelector('#image-size option:checked').value;\r\n    sizeOptions.forEach(option => {\r\n      option.removeAttribute('selected');\r\n    });\r\n    option.setAttribute('selected', 'selected');\r\n  });\r\n});"],"names":[],"version":3,"file":"index.44983732.js.map","sourceRoot":"/__parcel_source_root/"}